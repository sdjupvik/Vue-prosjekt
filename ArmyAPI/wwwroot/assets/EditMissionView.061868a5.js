import{_ as S,d as w,u as M,n as h,i as V,o as U,s as I,a as n,c as l,f as s,w as d,v as _,b as a,F as g,r as k,j as N,p as $,k as q,l as C,x as E,y as R,t as m,q as B,g as D}from"./index.36a69966.js";const r=c=>($("data-v-4c4074f0"),c=c(),q(),c),F=["onSubmit"],T={class:"form-group"},j=r(()=>s("label",{for:"name"},"Mission name",-1)),G={class:"form-group mt-3"},L=r(()=>s("label",{for:"description"},"Description",-1)),P={class:"form-group mt-3"},z=r(()=>s("label",{for:"soldiers",class:"d-block"},"Mission status",-1)),A={class:"form-check form-check-inline"},H=["value","id","onUpdate:modelValue"],J=["for"],K={class:"fw-bolder smaller"},O={class:"form-group mt-3"},Q=r(()=>s("label",{for:"damage"},"Equipment damage",-1)),W={class:"form-group mt-3"},X=r(()=>s("label",{for:"soldiers"},"Select soldiers",-1)),Y={class:"form-check"},Z=["value","id"],ss=["for"],es={class:"fw-bolder smaller"},ts=C('<button class="btn btn-sm me-3 mt-3 mb-5 sans" type="reset" data-v-4c4074f0><i class="bi bi-x-square-fill" data-v-4c4074f0></i> Clear </button><button class="btn btn-sm btn-army-500 mt-3 mb-5 me-1" data-v-4c4074f0><i class="bi bi-save" data-v-4c4074f0></i><span class="ms-2" data-v-4c4074f0>Update</span></button>',2),as=w({setup(c){var v,b;const u=M();u.loadSoldiers();let f=Number(h.currentRoute.value.params.id),t=V({name:"",description:"",soldiers:[],status:0,damage:0}),y=(b=(v=u.filters.find(o=>o.type==="mission"))==null?void 0:v.data)==null?void 0:b.filter(o=>o.id);U(async()=>{let o=await I(`mission/${f}`);t.value.name=o.name,t.value.status=o.missionStatusId,t.value.damage=o.equipmentRepairCost,t.value.soldiers=o.soldiers.map(i=>i.id),t.value.description=o.description});async function x(){await E(`mission/${f}`,t.value),h.push("/missions")}return(o,i)=>(n(),l("form",{class:"text-army-500 custom-class",onSubmit:N(x,["prevent"])},[s("div",T,[j,d(s("input",{class:"form-control",id:"name","onUpdate:modelValue":i[0]||(i[0]=e=>a(t).name=e)},null,512),[[_,a(t).name]])]),s("div",G,[L,d(s("textarea",{class:"form-control",id:"description",rows:"3","onUpdate:modelValue":i[1]||(i[1]=e=>a(t).description=e)},null,512),[[_,a(t).description]])]),s("div",P,[z,(n(!0),l(g,null,k(a(y),e=>(n(),l("div",A,[d(s("input",{class:"form-check-input",type:"radio",name:"status",value:e.id,id:`status-${e.id}`,"onUpdate:modelValue":p=>a(t).status=p},null,8,H),[[R,a(t).status]]),s("label",{class:"form-check-label",for:`status-${e.id}`},[s("span",K,m(e.name),1)],8,J)]))),256))]),s("div",O,[Q,d(s("input",{type:"number",class:"form-control",id:"damage","onUpdate:modelValue":i[2]||(i[2]=e=>a(t).damage=e)},null,512),[[_,a(t).damage]])]),s("div",W,[X,(n(!0),l(g,null,k(a(u).soldiers,e=>(n(),l("div",Y,[d(s("input",{class:"form-check-input",type:"checkbox",value:e.id,id:`soldier-${e.id}`,"onUpdate:modelValue":i[3]||(i[3]=p=>a(t).soldiers=p)},null,8,Z),[[B,a(t).soldiers]]),s("label",{class:"form-check-label",for:`soldier-${e.id}`},[s("span",es,m(e.soldierRank.name),1),D(" "+m(e.firstName)+" "+m(e.lastName),1)],8,ss)]))),256))]),ts],40,F))}});var is=S(as,[["__scopeId","data-v-4c4074f0"]]);export{is as default};
